{% extends 'frontend/layouts/base.html' %}

{% block content %}
{% load static %}
<!-- Hero Slider -->
<section class="hero-section">
    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">
        <!-- Indicators -->
        <div class="carousel-indicators">
            {% for slider in sliders %}
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="{{ forloop.counter0 }}"
                class="{% if forloop.first %}active{% endif %}" aria-current="{% if forloop.first %}true{% endif %}">
            </button>
            {% endfor %}
        </div>

        <!-- Carousel Items -->
        <div class="carousel-inner">
            {% for slider in sliders %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                <div class="hero-slide" style="background-image: url('{{ slider.image.url }}');">
                    <div class="hero-content">
                        <h1>{{ slider.title }}</h1>
                        <p>{{ slider.subtitle }}</p>
                        {% if slider.link %}
                        <a href="{{ slider.link }}" class="btn btn-primary btn-hero">Shop Now</a>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Carousel Controls -->
        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>
</section>


<!-- Categories -->
<section class="category-section">
    <div class="container">
        <h2 class="section-title fade-in">Shop by Category</h2>
        <div class="category-slider">
            {% for category in categoryList %}
            <div class="category-item fade-in">
                <div class="category-img">
                    {% if category.category_image %}
                        <img src="{{ category.category_image.url }}" alt="{{ category.category }}">
                    {% else %}
                        <img src="{% static 'assets/images/default.jpg' %}" alt="{{ category.category }}">
                    {% endif %}

                </div>
                <div class="category-name">{{ category.category }}</div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<section class="product-section">
    <div class="container">
        <h2 class="section-title fade-in">Featured Products</h2>
        <div class="row g-4">
            {% for product in featured_products %}
                <div class="col-lg-3 col-md-6">
                    <div class="product-card fade-in">
                        {% if product.thumbnail %}
                            <img src="{{ product.thumbnail.url }}" class="product-img" alt="{{ product.product_name }}">
                        {% elif product.image_url %}
                            <img src="{{ product.image_url }}" class="product-img" alt="{{ product.product_name }}">
                        {% else %}
                            <img src="{% static 'images/default.jpg' %}" class="product-img" alt="No Image">
                        {% endif %}
                        <div class="product-info">
                            <h5 class="product-title">
                                <a href="{% url 'product_detail' product.product_slug %}">
                                    {{ product.product_name }}
                                </a>
                            </h5>
                            {% if product.rating %}
                            <div class="product-rating">
                                <div class="rating-stars">
                                    {% for i in "12345" %}
                                        {% with star=forloop.counter %}
                                            {% if product.rating >= star %}
                                                <i class="fas fa-star"></i>
                                            {% elif product.rating >= star|add:"-0.5" %}
                                                <i class="fas fa-star-half-alt"></i>
                                            {% else %}
                                                <i class="far fa-star"></i>
                                            {% endif %}
                                        {% endwith %}
                                    {% endfor %}
                                </div>
                                <span class="rating-text">{{ product.rating }}/5</span>
                            </div>
                            {% endif %}
                            <p class="product-description">
                                {{ product.short_description|default:"No description available."|truncatewords:7 }}
                            </p>

                            <div class="product-footer">
                                <div class="product-price">${{ product.price }}</div>
                                <button class="btn-cart">
                                    <i class="fas fa-cart-plus me-1"></i>Add to Cart
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>






{% endblock %}